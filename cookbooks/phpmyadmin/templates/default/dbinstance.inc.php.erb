<?php

$i++;

/* Authentication type */
$cfg['Servers'][$i]['auth_type'] = '<%= @auth_type %>';
/* Server parameters */
$cfg['Servers'][$i]['host'] = '<%= @host %>';
$cfg['Servers'][$i]['port'] = '<%= @port %>';
$cfg['Servers'][$i]['connect_type'] = 'tcp';
$cfg['Servers'][$i]['compress'] = true;
/* Select mysqli if your server has it */
$cfg['Servers'][$i]['extension'] = 'mysqli';
$cfg['Servers'][$i]['AllowNoPassword'] = false;

$cfg['Servers'][$i]['user'] = '<%= @user %>';
$cfg['Servers'][$i]['password'] = '<%= @pass %>';
<% if @hide_dbs %>
$cfg['Servers'][$i]['hide_db'] = '^<%= @hide_dbs.join('|') %>$';
<% end %>
$cfg['Servers'][$i]['verbose'] = '<%= @name %>';

/* rajk - for blobstreaming */
$cfg['Servers'][$i]['bs_garbage_threshold'] = 50;
$cfg['Servers'][$i]['bs_repository_threshold'] = '32M';
$cfg['Servers'][$i]['bs_temp_blob_timeout'] = 600;
$cfg['Servers'][$i]['bs_temp_log_threshold'] = '32M';

<% unless @pma_user.empty? || @pma_pass.empty? || @pma_db.empty? %>
/* User for advanced features */
$cfg['Servers'][$i]['controluser'] = '<%= @pma_user %>';
$cfg['Servers'][$i]['controlpass'] = '<%= @pma_pass %>';
/* Advanced phpMyAdmin features */
$cfg['Servers'][$i]['pmadb'] = '<%= @pma_db %>';
$cfg['Servers'][$i]['bookmarktable'] = 'pma_bookmark';
$cfg['Servers'][$i]['relation'] = 'pma_relation';
$cfg['Servers'][$i]['recent'] = 'pma_recent';
$cfg['Servers'][$i]['table_info'] = 'pma_table_info';
$cfg['Servers'][$i]['table_coords'] = 'pma_table_coords';
$cfg['Servers'][$i]['table_uiprefs'] = 'pma_table_uiprefs';
$cfg['Servers'][$i]['pdf_pages'] = 'pma_pdf_pages';
$cfg['Servers'][$i]['column_info'] = 'pma_column_info';
$cfg['Servers'][$i]['history'] = 'pma_history';
$cfg['Servers'][$i]['tracking'] = 'pma_tracking';
$cfg['Servers'][$i]['designer_coords'] = 'pma_designer_coords';
$cfg['Servers'][$i]['userconfig'] = 'pma_userconfig';
/* Contrib / Swekey authentication */
$cfg['Servers'][$i]['auth_swekey_config'] = '/etc/swekey-pma.conf';
<% end %>